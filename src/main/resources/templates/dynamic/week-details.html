<th:block th:fragment="weekDetails(week,index)">
  <li th:id="${'weekAccordion_' + week.id}"
    class="pt-0 pb-0 px-0 bg-light container accordion-collapse collapse accordion-header clickable"
    th:classappend="${index == 0? 'show':''}" th:attr="data-target=${week.id}" data-parent="#weekTable">
    <ul class="list-group list-group-flush item-list sub-meal-list" id="subMealList">
      <th:block th:each="meal: ${week.meals}">
        <li class="item list-group-item list-group-item-action my-0 bg-light"
          th:id="${'accordion_header_sub_' + meal.id + '_' + week.id}" th:attr="data-target=${'#weekAccordion_' + week.id + ' .accordion-sub-' + meal.id}"
          data-toggle="collapse">
          <button class="action edit bg-primary stop-prop" th:attr="onclick=${'editMeal('+meal.id+')'}">Edit</button>
          <div th:id="${'subMealName_' + meal.id + '_' + week.id}" class="meal-text text-truncate col col-12 py-0 sub-meal-text"
            th:text="${meal.name}"></div>
          <button th:attr="onclick=${'removeMealFromWeek(' + meal.id + ',' + week.id + ')'}"
            class="action delete bg-danger stop-prop">Delete</button>
        </li>
        <th:block th:replace="dynamic/meal-sub-details :: mealSubDetails(${meal})"></th:block>
      </th:block>
    </ul>
  </li>
</th:block>